<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Through the Keyhole</title>
    <link rel="icon" href="WhBr-Rabbit-logo-golden-220609-v1.png" type="image/x-icon">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Alice&display=swap');
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Use min-height for scrollable content */
            flex-direction: column;
            font-family: 'Alice', serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background: #ffe4b5; /* Background color */
        }
        .container {
            width: 90%;
            max-width: 300px; /* Adjust width */
            text-align: center;
            padding: 20px; /* Padding for better mobile view */
            box-sizing: border-box; /* Ensure padding doesn't affect width */
        }
        .logo {
            width: 150px; /* Adjust size as needed */
            height: auto;
            margin-bottom: 20px;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        #error-message {
            color: red;
            margin-top: 10px;
        }
        .zoomable-image {
            display: none;
            width: 90%;
            max-width: 100%;
            height: auto;
            margin: 20px auto 0 auto; /* Space between image and input box */
            cursor: zoom-in;
        }
        p {
            margin: 20px 0; /* Margin for paragraphs */
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="WhBr-Rabbit-logo-golden-220609-v1.png" class="logo">
        <h1>Through the Keyhole</h1>
        <h2>Lock VIII</h2>
        <p>The blossom path sweetly declares,<br>
           Good luck and the love of someone who cares.<br>
           Walk west away from the waters’ wall,<br>
           Look and listen for the Trumpeter’s call<br>
           But don’t stop just on precedent<br>
           On king’s corner now sleeps a President</p>
        <p id="error-message"></p>
        <input type="text" id="keyInput" placeholder="four characters">
        <button onclick="navigate()">Submit</button>
        <br>
        <img src="trumpeter.png" id="trumpeter-image" class="zoomable-image">
        <img src="Windsor.jpg" id="Windsor-image" class="zoomable-image">
    </div>

    <script>
        let incorrectAttempts = 0;

        function navigate() {
            const enteredKey = document.getElementById('keyInput').value.trim().toLowerCase();
            const comparisonKey = '45nd';
            const errorMessage = document.getElementById('error-message');
            const trumpeterImage = document.getElementById('trumpeter-image');
            const WindsorImage = document.getElementById('Windsor-image');

            // Reset error message and hide images
            errorMessage.textContent = '';
            trumpeterImage.style.display = 'none';
            WindsorImage.style.display = 'none';

            if (enteredKey === comparisonKey) {
                window.location.href = 'bricks.html'; // Navigate to bricks.html for correct answer
            } else {
                incorrectAttempts++;
                if (incorrectAttempts === 1) {
                    errorMessage.textContent = 'The image of the rabbit in your book contains several visual clues about which path you should take to your next location.';
                } else if (incorrectAttempts === 2) {
                    errorMessage.textContent = 'The maps in the book help you find not only where things are, but where they were. Keep your chins up and you might see hints you\'re going the right way.';
                } else if (incorrectAttempts === 3) {
                    trumpeterImage.style.display = 'block';
                } else if (incorrectAttempts >= 4) {
                    WindsorImage.style.display = 'block';
                }
            }
        }

        // Zoom functionality for images
        document.querySelectorAll('.zoomable-image').forEach(img => {
            img.addEventListener('click', () => {
                if (img.style.transform === 'scale(1.5)') {
                    img.style.transform = 'scale(1)';
                    img.style.cursor = 'zoom-in';
                } else {
                    img.style.transform = 'scale(1.5)';
                    img.style.cursor = 'zoom-out';
                }
            });
        });
    </script>
</body>
</html>
